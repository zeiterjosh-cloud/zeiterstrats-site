<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZEITERSTRATS</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#070b14;
color:#e6ffff;
text-align:center;
}

input{
padding:10px;
margin:8px;
background:#111;
border:1px solid #00f7ff;
color:white;
border-radius:6px;
}

button{
padding:10px 18px;
margin:8px;
background:#00f7ff;
border:none;
border-radius:6px;
font-weight:bold;
cursor:pointer;
}

.hidden{
display:none;
}

.panel{
background:#111827;
padding:20px;
margin:20px auto;
max-width:600px;
border-radius:10px;
}

</style>
</head>

<body>

<!-- LANDING -->
<div id="landing">
<h1>ZEITERSTRATS</h1>

<input id="email" placeholder="Email"><br>
<input id="password" type="password" placeholder="Password"><br>

<button onclick="register()">Register</button>
<button onclick="login()">Login</button>

<p id="message"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden">
<h1>Dashboard</h1>

<div class="panel">
ZEITER Score: <span id="score">420</span>
</div>

<button onclick="logout()">Logout</button>
</div>

<script>

// ðŸ” REPLACE THESE WITH YOUR REAL VALUES
const supabase = window.supabase.createClient(
"https://YOUR_PROJECT_URL.supabase.co",
"YOUR_ANON_KEY"
);

let currentUser = null;

// REGISTER
async function register(){
const email = document.getElementById("email").value;
const password = document.getElementById("password").value;

const { data, error } = await supabase.auth.signUp({
email: email,
password: password
});

if(error){
document.getElementById("message").innerText = error.message;
}else{
document.getElementById("message").innerText = "Check your email to confirm.";
}
}

// LOGIN
async function login(){
const email = document.getElementById("email").value;
const password = document.getElementById("password").value;

const { data, error } = await supabase.auth.signInWithPassword({
email: email,
password: password
});

if(error){
document.getElementById("message").innerText = error.message;
}else{
currentUser = data.user;
enterDashboard();
}
}

// ENTER DASHBOARD
function enterDashboard(){
document.getElementById("landing").classList.add("hidden");
document.getElementById("dashboard").classList.remove("hidden");
}

// LOGOUT
async function logout(){
await supabase.auth.signOut();
location.reload();
}

// SESSION CHECK (keeps login after refresh)
supabase.auth.getSession().then(({ data })=>{
if(data.session){
currentUser = data.session.user;
enterDashboard();
}
});

</script>

</body>
</html>